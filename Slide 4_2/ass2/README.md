# üìÑ ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÇ‡∏Ñ‡πâ‡∏î (Slide 4_2: Ass2 - Even Sort)

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ö `rpc_even` (‡∏Ñ‡∏±‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏π‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö) ‡πÅ‡∏ï‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡∏∞‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ Assignment 2

---

## üõ† ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£ Compile ‡πÅ‡∏•‡∏∞ Run

### 1. ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Stub ‡∏î‡πâ‡∏ß‡∏¢ rpcgen

‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥ Assignment ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô `rpcgen` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô:

```bash
# ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå ass2
rpcgen ass2.x
```

_‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡πÑ‡∏ü‡∏•‡πå `ass2.h`, `ass2_clnt.c`, `ass2_svc.c`, ‡πÅ‡∏•‡∏∞ `ass2_xdr.c`_

### 2. ‡∏Å‡∏≤‡∏£ Compilation

```bash
# ‡∏Ñ‡∏≠‡∏°‡πÑ‡∏û‡∏•‡πå‡∏ù‡∏±‡πà‡∏á Server
gcc ass2_server.c ass2_svc.c ass2_xdr.c -o server -I /usr/include/tirpc -ltirpc

# ‡∏Ñ‡∏≠‡∏°‡πÑ‡∏û‡∏•‡πå‡∏ù‡∏±‡πà‡∏á Client
gcc ass2_client.c ass2_clnt.c ass2_xdr.c -o client -I /usr/include/tirpc -ltirpc
```

### 2. ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô (Execution Steps)

**Terminal 1 (Server):**

```bash
./server
```

**Terminal 2 (Client):**

```bash
./client localhost 10 7 8 2 5
# ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: 2 8 10
```

---

## üìù ‡πÉ‡∏Ñ‡∏£‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏´‡∏ô‡∏ö‡πâ‡∏≤‡∏á? (Programmer vs rpcgen)

### 1. ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà Programmer ‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏±‡∏î‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°

- **`ass2.x`**: ‡∏ô‡∏¥‡∏¢‡∏≤‡∏°‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- **`ass2_client.c`**: ‡∏£‡∏±‡∏ö‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ RPC
- **`ass2_server.c`**: Logic ‡∏Å‡∏≤‡∏£ Filter ‡πÅ‡∏•‡∏∞ Sort ‡∏ù‡∏±‡πà‡∏á Server

### 2. ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å `rpcgen -C ass2.x`

- **`ass2.h`**, **`ass2_clnt.c`**, **`ass2_svc.c`**, **`ass2_xdr.c`**

---

## üîç ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡πÇ‡∏Ñ‡πâ‡∏î (Code Breakdown)

| ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö          | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢                                                                 |
| :------------------ | :----------------------------------------------------------------------- |
| **`ass2.x`**        | ‡∏ô‡∏¥‡∏¢‡∏≤‡∏°‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° RPC ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ô‡∏µ‡πâ                                        |
| **`ass2_server.c`** | ‡∏Å‡∏≤‡∏£ÂÆüË£Ö‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `even_sort_1_svc` ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà Filter ‡πÅ‡∏•‡∏∞ Sort           |
| **`ass2_client.c`** | ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ù‡∏±‡πà‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏à‡∏≤‡∏Å Command line ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ RPC |

---

## üí° ‡∏™‡∏£‡∏∏‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏≠‡∏ö‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á RPC (Sun RPC)

1.  **Workflow**: ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô `.x` -> ‡∏£‡∏±‡∏ô `rpcgen` -> ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô client/server code -> compile ‡∏Å‡∏±‡∏ö Stub -> ‡∏£‡∏±‡∏ô `portmap`/`rpcbind` -> ‡∏£‡∏±‡∏ô server -> ‡∏£‡∏±‡∏ô client
2.  **rpcgen**: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `header (.h)`, `client stub (_clnt.c)`, `server skeleton (_svc.c)`, ‡πÅ‡∏•‡∏∞ `data conversion (_xdr.c)`
3.  **Parameter Passing**: RPC ‡∏£‡∏±‡∏ö‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ `struct`) ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô `pointer` ‡πÄ‡∏™‡∏°‡∏≠
4.  **Idempotency**: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏ô RPC ‡∏Ñ‡∏ß‡∏£‡∏ñ‡∏π‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏ú‡∏•‡πÄ‡∏™‡∏µ‡∏¢ (‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà Network ‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤)
